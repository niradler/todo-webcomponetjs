<html>

<head>
    <script>
        (function() {
            if ('registerElement' in document &&
                'import' in document.createElement('link') &&
                'content' in document.createElement('template')) {
                // platform is good!
            } else {
                // polyfill the platform!
                var e = document.createElement('script');
                e.src = 'node_modules/webcomponentsjs/full.js';
                document.body.appendChild(e);
            }
        })();
    </script>
    <script src="js/store.js"></script>
    <!-- Imports custom element -->


</head>

<body>

    <div class="" id="app">
        <create-todo></create-todo>
        <todo-list>

        </todo-list>
    </div>

    <template id="create-template">
        <form>
            <input type="text" name="txt" id="txt" value="">
            <a id="add">Add</a>
        </form>
    </template>

    <template id="todo-list-template">
        <ul id="list">

        </ul>
    </template>

    <template id="todo-template">
        <li index="" class="list-group-item"></li>
    </template>

    <script>
        var store = new Store();

        function remove(i) {

            var listEl = document.querySelector("todo-list");
            var r = listEl.shadowRoot.querySelector(`[index="${i}"]`);
            if (r) {
                listEl.shadowRoot.querySelector("ul").removeChild(r);
            } else {
                alert("not found!");
            }
            r.removeChild(r.querySelector("span"));
            var todo = r.innerHTML;
            i = store.index(todo);
            store.remove(i);
        }
    </script>
    <script src="js/CreateTodo.js"></script>
    <script src="js/TodoList.js"></script>
</body>

</html>